<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">ProfitAI.io - Trading IA Automatis√©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: #0a0a0a; color: #fff; font-family: 'Segoe UI', sans-serif; }
        .neon-green { text-shadow: 0 0 5px #00ff88, 0 0 10px #00ff88; }
        .candlestick { background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjUwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iNTAiIGZpbGw9IiMwYTBhMGEiLz48bGluZSB4MT0iNTAiIHkxPSIwIiB4Mj0iNTAiIHkyPSI1MCIgc3Ryb2tlPSIjMDBmZjg4IiBzdHJva2Utd2lkdGg9IjEiLz48L3N2Zz4='); }
        .trading-panel { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); }
        .buy-btn { background: linear-gradient(135deg, #00b09b 0%, #96c93d 100%); }
        .sell-btn { background: linear-gradient(135deg, #ff416c 0%, #ff4b2b 100%); }
        .pulse-animation { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.7; } 100% { opacity: 1; } }
        .signal-buy { background: linear-gradient(135deg, #00b09b20 0%, #96c93d20 100%); border-left: 4px solid #00ff88; }
        .signal-sell { background: linear-gradient(135deg, #ff416c20 0%, #ff4b2b20 100%); border-left: 4px solid #ff416c; }
        .signal-hold { background: linear-gradient(135deg, #ffd70020 0%, #ffed4e20 100%); border-left: 4px solid #ffd700; }
        .premium-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .starter-card { background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); }
        .institution-card { background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%); }
    </style>
</head>
<body>

<!-- BANDEAU L√âGAL FIXE -->
<div class="bg-red-900 text-yellow-300 p-3 text-center text-sm font-bold fixed top-0 w-full z-50" id="legal-banner">
    ‚ö†Ô∏è PLATEFORME PROFESSIONNELLE - TRADING AVEC RISQUES - CONSULTEZ UN CONSEILLER FINANCIER
</div>

<!-- NAVIGATION -->
<nav class="p-5 bg-gray-900 border-b-2 border-green-500 mt-12">
    <div class="container mx-auto flex justify-between items-center">
        <div class="flex items-center">
            <img src="https://raw.githubusercontent.com/RusAfrixConnect/ProfitAI/main/WhatsApp-Image-2025-11-12-at-17.12.50.png" 
                 alt="ProfitAI Logo" 
                 class="h-12 mr-4">
            <h1 class="text-3xl font-bold neon-green">ProfitAI.io</h1>
        </div>
        <div class="flex gap-4 items-center">
            <a href="#pricing" class="px-4 py-2 bg-green-600 rounded-lg font-bold hover:bg-green-700">
                <i class="fas fa-rocket mr-2"></i>S'abonner
            </a>
            <button id="login-btn" class="px-4 py-2 bg-purple-600 rounded-lg font-bold">
                <i class="fas fa-user mr-2"></i>Connexion
            </button>
            <select id="lang-select" class="bg-gray-800 px-3 py-2 rounded border border-green-500">
                <option value="fr">üá´üá∑ FR</option>
                <option value="en">üá¨üáß EN</option>
                <option value="ru">üá∑üá∫ RU</option>
            </select>
        </div>
    </div>
</nav>

<!-- HERO SECTION MARKETING -->
<section class="container mx-auto p-8 text-center">
    <h1 class="text-6xl font-bold mb-6 neon-green">ProfitAI.io</h1>
    <p class="text-2xl mb-8">L'IA qui g√©n√®re du profit <span class="neon-green">automatiquement</span></p>
    
    <div class="max-w-4xl mx-auto bg-gradient-to-r from-purple-900 to-blue-900 p-8 rounded-lg border-2 border-green-500 mb-8">
        <h3 class="text-3xl font-bold mb-4">üéÅ Offre Sp√©ciale Lancement</h3>
        <p class="text-xl mb-6">Inscris-toi et re√ßois <strong class="neon-green">3 signaux IA GRATUITS</strong> + Acc√®s 7 jours premium</p>
        
        <form id="lead-form" class="max-w-md mx-auto space-y-4">
            <input type="email" id="lead-email" placeholder="Ton email" required 
                   class="w-full p-4 rounded-lg bg-gray-800 border border-green-500 text-lg">
            <button type="submit" class="w-full px-8 py-4 bg-green-600 rounded-lg text-xl font-bold hover:bg-green-700">
                <i class="fas fa-gift mr-2"></i>Recevoir mes signaux gratuits
            </button>
        </form>
        
        <div class="mt-6 grid grid-cols-3 gap-4 text-center">
            <div>
                <p class="text-3xl font-bold text-yellow-400">2,347</p>
                <p class="text-sm text-gray-300">Traders actifs</p>
            </div>
            <div>
                <p class="text-3xl font-bold text-green-400">+42.8%</p>
                <p class="text-sm text-gray-300">Performance moyenne</p>
            </div>
            <div>
                <p class="text-3xl font-bold text-blue-400">‚Çø1,247</p>
                <p class="text-sm text-gray-300">Profit g√©n√©r√©</p>
            </div>
        </div>
    </div>
</section>

<!-- HERO ZND -->
<section class="container mx-auto p-8">
    <div class="bg-gradient-to-r from-purple-900 via-green-900 to-blue-900 p-8 rounded-lg border-2 border-green-500">
        <h2 class="text-5xl font-bold mb-4">üöÄ ZND Token by MineralX</h2>
        <p class="text-xl mb-6" id="znd-description">La premi√®re crypto-monnaie index√©e sur des min√©raux r√©els</p>
        
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
            <div class="bg-black/50 p-5 rounded">
                <p class="text-gray-400 text-sm" id="znd-price-label">Prix ZND</p>
                <p id="znd-price" class="text-3xl font-bold neon-green">$0.0025</p>
                <p class="text-green-400 text-sm">+5.42% 24h</p>
            </div>
            <div class="bg-black/50 p-5 rounded">
                <p class="text-gray-400 text-sm">Market Cap</p>
                <p id="znd-mcap" class="text-3xl font-bold">$2.5M</p>
            </div>
            <div class="bg-black/50 p-5 rounded">
                <p class="text-gray-400 text-sm">Volume 24h</p>
                <p id="znd-volume" class="text-3xl font-bold">$45,230</p>
                <p class="text-red-400 text-sm">-12% (correction)</p>
            </div>
            <div class="bg-black/50 p-5 rounded">
                <p class="text-gray-400 text-sm">Min√©raux Backed</p>
                <p class="text-3xl font-bold text-blue-400">10M tonnes</p>
            </div>
        </div>

        <div class="flex gap-4 justify-center">
            <button id="znd-buy-btn" onclick="window.open('https://mineralx.io/#tokens', '_blank')" 
                    class="px-8 py-4 bg-green-600 rounded-lg text-xl font-bold hover:bg-green-700">
                Acheter ZND sur MineralX
            </button>
            <button onclick="window.open('https://testnet.bscscan.com/token/0x1Df4841EB4B94436EAD4a922ecBE03Aa8bA2cF6C', '_blank')" 
                    class="px-8 py-4 bg-blue-600 rounded-lg text-xl font-bold hover:bg-blue-700">
                Voir sur BSCScan
            </button>
        </div>
    </div>
</section>

<!-- SECTION MARCH√âS MULTI-ASSETS -->
<section class="container mx-auto p-8">
    <div class="bg-gray-900 p-6 rounded-lg border-2 border-blue-500">
        <h2 class="text-3xl font-bold mb-6 text-blue-400">üìà March√©s Multi-Assets</h2>
        
        <!-- SELECTEUR DE MARCH√â -->
        <div class="mb-6">
            <label class="block text-gray-400 mb-2">Type de March√©</label>
            <select id="market-type" class="w-full bg-gray-800 p-3 rounded border border-green-500">
                <option value="crypto">Cryptomonnaies</option>
                <option value="stocks">Actions</option>
                <option value="forex">Forex</option>
                <option value="indices">Indices</option>
                <option value="metals">M√©taux</option>
            </select>
        </div>

        <!-- GRID DES ACTIFS -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="assets-grid">
            <!-- Rempli dynamiquement par JavaScript -->
        </div>
    </div>
</section>

<!-- SECTION ABONNEMENTS -->
<section id="pricing" class="container mx-auto p-8">
    <h2 class="text-4xl font-bold mb-8 text-center text-blue-400">üíé Choisis ton Plan</h2>
    
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
        <!-- STARTER -->
        <div class="starter-card p-6 rounded-lg border-2 border-green-500 transform hover:scale-105 transition duration-300">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold mb-2">Starter</h3>
                <p class="text-4xl font-bold">29‚Ç¨<span class="text-lg">/mois</span></p>
                <p class="text-gray-300">Parfait pour d√©buter</p>
            </div>
            <ul class="space-y-3 mb-6">
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> 10 signaux IA/jour</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Analyses techniques basiques</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Support email</li>
                <li class="flex items-center"><i class="fas fa-times text-red-400 mr-2"></i> Alertes personnalis√©es</li>
                <li class="flex items-center"><i class="fas fa-times text-red-400 mr-2"></i> Trading automatique</li>
            </ul>
            <button class="w-full py-3 bg-green-600 rounded-lg font-bold text-lg hover:bg-green-700 subscribe-btn" data-plan="starter">
                Commencer
            </button>
        </div>

        <!-- PRO TRADER -->
        <div class="premium-card p-6 rounded-lg border-2 border-yellow-500 transform hover:scale-105 transition duration-300 relative">
            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
                <span class="bg-yellow-500 text-black px-4 py-1 rounded-full text-sm font-bold">POPULAIRE</span>
            </div>
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold mb-2">Pro Trader</h3>
                <p class="text-4xl font-bold">99‚Ç¨<span class="text-lg">/mois</span></p>
                <p class="text-gray-300">Le plus choisi</p>
            </div>
            <ul class="space-y-3 mb-6">
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Signaux IA illimit√©s</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Analyses techniques avanc√©es</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Alertes personnalis√©es</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Support prioritaire 24/7</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Trading semi-automatique</li>
            </ul>
            <button class="w-full py-3 bg-yellow-600 rounded-lg font-bold text-lg hover:bg-yellow-700 subscribe-btn" data-plan="pro">
                Devenir Pro
            </button>
        </div>

        <!-- INSTITUTION -->
        <div class="institution-card p-6 rounded-lg border-2 border-purple-500 transform hover:scale-105 transition duration-300">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold mb-2">Institution</h3>
                <p class="text-4xl font-bold">499‚Ç¨<span class="text-lg">/mois</span></p>
                <p class="text-gray-300">Pour les experts</p>
            </div>
            <ul class="space-y-3 mb-6">
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> API compl√®te</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Dashboard personnalis√©</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Support d√©di√©</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Trading enti√®rement automatique</li>
                <li class="flex items-center"><i class="fas fa-check text-green-400 mr-2"></i> Rapports institutionnels</li>
            </ul>
            <button class="w-full py-3 bg-purple-600 rounded-lg font-bold text-lg hover:bg-purple-700 subscribe-btn" data-plan="institution">
                Passer Expert
            </button>
        </div>
    </div>
</section>

<!-- SECTION PARRAINAGE -->
<section class="container mx-auto p-8">
    <div class="bg-gradient-to-r from-purple-900 to-pink-900 p-8 rounded-lg border-2 border-green-500">
        <h2 class="text-3xl font-bold mb-6 text-center text-green-400">üë• Programme de Parrainage</h2>
        <p class="text-xl text-center mb-8">Parraine tes amis et gagne <strong class="neon-green">20% de commission r√©currente</strong> sur leurs abonnements !</p>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-black/50 p-6 rounded-lg">
                <h3 class="text-2xl font-bold mb-4 text-yellow-400">Ton lien de parrainage</h3>
                <div class="flex gap-2 mb-4">
                    <input type="text" id="ref-link" value="https://profita.io?ref=USER123" 
                           class="flex-1 bg-gray-800 p-3 rounded border border-green-500" readonly>
                    <button onclick="copyRefLink()" class="px-6 py-3 bg-green-600 rounded font-bold hover:bg-green-700">
                        <i class="fas fa-copy mr-2"></i>Copier
                    </button>
                </div>
                <p class="text-sm text-gray-400">Partage ce lien et gagne 20% sur chaque abonnement</p>
            </div>
            
            <div class="bg-black/50 p-6 rounded-lg">
                <h3 class="text-2xl font-bold mb-4 text-blue-400">Tes Statistiques</h3>
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div class="bg-gray-800 p-4 rounded">
                        <p class="text-3xl font-bold text-yellow-400" id="ref-count">5</p>
                        <p class="text-sm text-gray-400">Filleuls actifs</p>
                    </div>
                    <div class="bg-gray-800 p-4 rounded">
                        <p class="text-3xl font-bold text-green-400" id="ref-earnings">124‚Ç¨</p>
                        <p class="text-sm text-gray-400">Gains totaux</p>
                    </div>
                    <div class="bg-gray-800 p-4 rounded">
                        <p class="text-3xl font-bold text-blue-400" id="ref-pending">29‚Ç¨</p>
                        <p class="text-sm text-gray-400">En attente</p>
                    </div>
                    <div class="bg-gray-800 p-4 rounded">
                        <p class="text-3xl font-bold text-purple-400" id="ref-rank">#42</p>
                        <p class="text-sm text-gray-400">Classement</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- TABLEAU DE BORD UTILISATEUR -->
<section class="container mx-auto p-8">
    <div class="bg-gray-900 p-6 rounded-lg border-2 border-blue-500">
        <h3 class="text-2xl font-bold mb-6 text-blue-400">üìä Mon Tableau de Bord</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
            <div class="bg-black/50 p-4 rounded text-center">
                <p class="text-gray-400 text-sm">Mon Abonnement</p>
                <p id="user-plan" class="text-xl font-bold text-green-400">Starter</p>
                <p id="plan-expiry" class="text-sm text-gray-400">Expire le 30/12/2024</p>
            </div>
            <div class="bg-black/50 p-4 rounded text-center">
                <p class="text-gray-400 text-sm">Signaux Restants</p>
                <p id="signals-left" class="text-xl font-bold text-yellow-400">8/10</p>
                <div class="w-full bg-gray-700 rounded-full h-2 mt-2">
                    <div class="bg-yellow-400 h-2 rounded-full" style="width: 80%"></div>
                </div>
            </div>
            <div class="bg-black/50 p-4 rounded text-center">
                <p class="text-gray-400 text-sm">Performance</p>
                <p id="user-performance" class="text-xl font-bold text-green-400">+12.4%</p>
                <p class="text-sm text-gray-400">Ce mois</p>
            </div>
            <div class="bg-black/50 p-4 rounded text-center">
                <p class="text-gray-400 text-sm">Prochain Paiement</p>
                <p id="next-payment" class="text-xl font-bold text-purple-400">29‚Ç¨</p>
                <p class="text-sm text-gray-400">15 jours</p>
            </div>
        </div>

        <!-- GESTION D'ABONNEMENT -->
        <div class="bg-black/30 p-6 rounded-lg">
            <h4 class="text-xl font-bold mb-4 text-yellow-400">G√©rer mon abonnement</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <button id="upgrade-btn" class="p-4 bg-green-600 rounded-lg font-bold hover:bg-green-700">
                    <i class="fas fa-arrow-up mr-2"></i>Am√©liorer mon plan
                </button>
                <button id="cancel-btn" class="p-4 bg-red-600 rounded-lg font-bold hover:bg-red-700">
                    <i class="fas fa-pause mr-2"></i>Suspendre l'abonnement
                </button>
            </div>
        </div>
    </div>
</section>

<!-- SECTION TRADING SIMUL√â -->
<section class="container mx-auto p-8">
    <h2 class="text-4xl font-bold mb-8 text-center text-blue-400" id="trading-title">üíπ Plateforme de Trading</h2>
    
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
        <!-- PANEL DE TRADING -->
        <div class="lg:col-span-3 trading-panel p-6 rounded-lg border-2 border-blue-500">
            <h3 class="text-2xl font-bold mb-6 text-blue-400" id="trade-panel-title">Ex√©cuter un Trade</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- SELECTION ASSET -->
                <div>
                    <label class="block text-gray-400 mb-2" id="asset-select-label">Actif √† trader</label>
                    <select id="asset-select" class="w-full bg-gray-800 p-3 rounded border border-green-500">
                        <option value="ZND">ZND/USDT</option>
                        <option value="BTC">BTC/USDT</option>
                        <option value="ETH">ETH/USDT</option>
                        <option value="BNB">BNB/USDT</option>
                    </select>
                </div>
                
                <!-- TYPE D'ORDRE -->
                <div>
                    <label class="block text-gray-400 mb-2" id="order-type-label">Type d'ordre</label>
                    <select id="order-type" class="w-full bg-gray-800 p-3 rounded border border-green-500">
                        <option value="market">Ordre au March√©</option>
                        <option value="limit">Ordre Limite</option>
                    </select>
                </div>
                
                <!-- PRIX (visible seulement pour ordre limite) -->
                <div id="price-input-container" class="hidden">
                    <label class="block text-gray-400 mb-2" id="limit-price-label">Prix Limite (USDT)</label>
                    <input type="number" id="limit-price" class="w-full bg-gray-800 p-3 rounded border border-green-500" step="0.0001">
                </div>
                
                <!-- QUANTIT√â -->
                <div>
                    <label class="block text-gray-400 mb-2" id="quantity-label">Quantit√©</label>
                    <input type="number" id="quantity" class="w-full bg-gray-800 p-3 rounded border border-green-500" value="0" min="0" step="0.001">
                </div>
            </div>
            
            <!-- BOUTONS BUY/SELL -->
            <div class="grid grid-cols-2 gap-4 mt-6">
                <button id="buy-btn" class="buy-btn p-4 rounded-lg text-xl font-bold text-white">
                    <i class="fas fa-arrow-up mr-2"></i> <span id="buy-btn-text">ACHETER</span>
                </button>
                <button id="sell-btn" class="sell-btn p-4 rounded-lg text-xl font-bold text-white">
                    <i class="fas fa-arrow-down mr-2"></i> <span id="sell-btn-text">VENDRE</span>
                </button>
            </div>
            
            <!-- R√âSUM√â DU TRADE -->
            <div id="trade-summary" class="mt-6 bg-black/50 p-4 rounded hidden">
                <h4 class="text-lg font-bold mb-2 text-yellow-400" id="summary-title">R√©sum√© du Trade</h4>
                <div class="grid grid-cols-2 gap-2 text-sm">
                    <p><span id="summary-asset-label">Actif:</span> <span id="trade-asset"></span></p>
                    <p><span id="summary-side-label">Direction:</span> <span id="trade-side"></span></p>
                    <p><span id="summary-quantity-label">Quantit√©:</span> <span id="trade-quantity"></span></p>
                    <p><span id="summary-price-label">Prix:</span> <span id="trade-price"></span></p>
                    <p><span id="summary-total-label">Total:</span> <span id="trade-total"></span></p>
                </div>
                <button id="confirm-trade-btn" class="w-full mt-3 p-3 bg-green-600 rounded font-bold">
                    <span id="confirm-trade-text">Confirmer le Trade</span>
                </button>
            </div>
        </div>
        
        <!-- PORTFOLIO ET SOLDE -->
        <div class="bg-gray-900 p-6 rounded-lg border-2 border-purple-500">
            <h3 class="text-xl font-bold mb-4 text-purple-400" id="portfolio-title">Votre Portfolio</h3>
            
            <button id="connect-wallet-btn" class="w-full px-6 py-3 bg-purple-600 rounded-lg font-bold mb-4">
                <span id="connect-wallet-text">Connecter MetaMask</span>
            </button>
            
            <div id="portfolio-details" class="hidden space-y-4">
                <!-- SOLDE USDT -->
                <div class="bg-black/50 p-3 rounded">
                    <p class="text-gray-400 text-sm">Solde USDT</p>
                    <p id="usdt-bal" class="text-2xl font-bold text-green-400">10,000.00</p>
                </div>
                
                <!-- ACTIFS D√âTENUS -->
                <div class="bg-black/50 p-3 rounded">
                    <p class="text-gray-400 text-sm mb-2">Vos Actifs</p>
                    <div id="assets-list" class="space-y-2">
                        <!-- Rempli dynamiquement -->
                    </div>
                </div>
                
                <!-- PERFORMANCE -->
                <div class="bg-black/50 p-3 rounded">
                    <p class="text-gray-400 text-sm">Performance</p>
                    <p id="portfolio-perf" class="text-xl font-bold text-green-400">+0.00%</p>
                    <p id="pnl" class="text-sm text-gray-400">PNL: $0.00</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- SECTION ANALYSE TECHNIQUE AVANC√âE -->
<section class="container mx-auto p-8">
    <h2 class="text-4xl font-bold mb-8 text-center text-purple-400" id="tech-analysis-title">üìä Analyse Technique IA Temps R√©el</h2>
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
        <!-- INDICATEURS TECHNIQUES -->
        <div class="bg-gray-900 p-6 rounded-lg border-2 border-green-500">
            <h3 class="text-2xl font-bold mb-4 text-green-400" id="indicators-title">üìà Indicateurs Techniques</h3>
            
            <div class="grid grid-cols-2 gap-4">
                <!-- RSI -->
                <div class="bg-black/50 p-4 rounded">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-gray-400" id="rsi-indicator-label">RSI (14)</span>
                        <div class="w-20 bg-gray-700 rounded-full h-2">
                            <div id="rsi-bar" class="bg-yellow-400 h-2 rounded-full" style="width: 54%"></div>
                        </div>
                    </div>
                    <p id="rsi-value" class="text-2xl font-bold text-yellow-400">54.2</p>
                    <p id="rsi-signal" class="text-sm text-gray-400">Neutre</p>
                </div>
                
                <!-- MACD -->
                <div class="bg-black/50 p-4 rounded">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-gray-400" id="macd-indicator-label">MACD</span>
                        <span id="macd-trend" class="text-xs px-2 py-1 bg-blue-900 rounded">Haussi√®re</span>
                    </div>
                    <p id="macd-value" class="text-2xl font-bold text-blue-400">+0.12</p>
                    <p id="macd-signal" class="text-sm text-gray-400">Signal: +0.08</p>
                </div>
                
                <!-- BOLLINGER BANDS -->
                <div class="bg-black/50 p-4 rounded">
                    <span class="text-gray-400 text-sm" id="bollinger-label">Bollinger Bands</span>
                    <p id="bollinger-value" class="text-2xl font-bold text-purple-400">$0.0025</p>
                    <p id="bollinger-position" class="text-sm text-green-400">Bande Sup√©rieure</p>
                </div>
                
                <!-- VOLUME -->
                <div class="bg-black/50 p-4 rounded">
                    <span class="text-gray-400 text-sm" id="volume-indicator-label">Volume 24h</span>
                    <p id="volume-value" class="text-2xl font-bold text-green-400">+15.3%</p>
                    <p id="volume-trend" class="text-sm text-gray-400">Accumulation</p>
                </div>
            </div>
        </div>

        <!-- SENTIMENT MARKET -->
        <div class="bg-gray-900 p-6 rounded-lg border-2 border-blue-500">
            <h3 class="text-2xl font-bold mb-4 text-blue-400" id="sentiment-title">üéØ Sentiment de March√© IA</h3>
            
            <div class="space-y-4">
                <!-- SENTIMENT GAUGE -->
                <div class="text-center">
                    <div class="inline-block relative w-32 h-32">
                        <svg class="w-32 h-32" viewBox="0 0 36 36">
                            <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                  fill="none" stroke="#1a1a2e" stroke-width="3"/>
                            <path id="sentiment-gauge" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" 
                                  fill="none" stroke="#00ff88" stroke-width="3" stroke-dasharray="75, 100"/>
                            <text x="18" y="20" text-anchor="middle" fill="#00ff88" font-size="8" font-weight="bold">
                                <tspan x="18" y="20" id="sentiment-value">75%</tspan>
                            </text>
                        </svg>
                    </div>
                    <p id="sentiment-text" class="text-xl font-bold text-green-400 mt-2">Haussier</p>
                </div>
                
                <!-- FACTEURS INFLUENCE -->
                <div class="bg-black/50 p-4 rounded">
                    <h4 class="text-lg font-bold mb-2 text-yellow-400" id="factors-title">Facteurs d'Influence</h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span>Technique:</span>
                            <span class="text-green-400">+0.8</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Volume:</span>
                            <span class="text-green-400">+0.6</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Sentiment:</span>
                            <span class="text-yellow-400">+0.3</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PR√âDICTIONS ML TEMPS R√âEL -->
    <div class="bg-gradient-to-r from-purple-900 to-blue-900 p-6 rounded-lg border-2 border-yellow-500">
        <h3 class="text-2xl font-bold mb-6 text-yellow-400 text-center" id="ml-predictions-title">ü§ñ Pr√©dictions Machine Learning</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- PR√âDICTION 1H -->
            <div class="bg-black/50 p-4 rounded text-center">
                <div class="text-3xl mb-2">‚è∞</div>
                <h4 class="text-lg font-bold mb-2" id="pred-1h-title">1 Heure</h4>
                <p id="pred-1h-direction" class="text-2xl font-bold text-green-400">+1.2%</p>
                <p id="pred-1h-confidence" class="text-sm text-gray-400">Confiance: 82%</p>
                <div class="mt-2 w-full bg-gray-700 rounded-full h-2">
                    <div class="bg-green-400 h-2 rounded-full" style="width: 82%"></div>
                </div>
            </div>
            
            <!-- PR√âDICTION 24H -->
            <div class="bg-black/50 p-4 rounded text-center">
                <div class="text-3xl mb-2">üìÖ</div>
                <h4 class="text-lg font-bold mb-2" id="pred-24h-title">24 Heures</h4>
                <p id="pred-24h-direction" class="text-2xl font-bold text-green-400">+3.8%</p>
                <p id="pred-24h-confidence" class="text-sm text-gray-400">Confiance: 76%</p>
                <div class="mt-2 w-full bg-gray-700 rounded-full h-2">
                    <div class="bg-green-400 h-2 rounded-full" style="width: 76%"></div>
                </div>
            </div>
            
            <!-- PR√âDICTION 7J -->
            <div class="bg-black/50 p-4 rounded text-center">
                <div class="text-3xl mb-2">üìä</div>
                <h4 class="text-lg font-bold mb-2" id="pred-7d-title">7 Jours</h4>
                <p id="pred-7d-direction" class="text-2xl font-bold text-red-400">-2.1%</p>
                <p id="pred-7d-confidence" class="text-sm text-gray-400">Confiance: 68%</p>
                <div class="mt-2 w-full bg-gray-700 rounded-full h-2">
                    <div class="bg-red-400 h-2 rounded-full" style="width: 68%"></div>
                </div>
            </div>
        </div>
        
        <!-- ALGORITHMES ML UTILIS√âS -->
        <div class="mt-6 bg-black/30 p-4 rounded">
            <h4 class="text-lg font-bold mb-3 text-center text-blue-400" id="ml-algorithms-title">Algorithmes ML Actifs</h4>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                <div class="p-2 bg-gray-800 rounded">
                    <div class="text-green-400 text-sm">LSTM</div>
                    <div class="text-xs text-gray-400">S√©quences</div>
                </div>
                <div class="p-2 bg-gray-800 rounded">
                    <div class="text-blue-400 text-sm">Random Forest</div>
                    <div class="text-xs text-gray-400">Ensemble</div>
                </div>
                <div class="p-2 bg-gray-800 rounded">
                    <div class="text-yellow-400 text-sm">XGBoost</div>
                    <div class="text-xs text-gray-400">Gradient</div>
                </div>
                <div class="p-2 bg-gray-800 rounded">
                    <div class="text-purple-400 text-sm">Prophet</div>
                    <div class="text-xs text-gray-400">Time Series</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- SIGNALS IA TEMPS R√âEL -->
<section class="container mx-auto p-8">
    <h2 class="text-4xl font-bold mb-8 text-center text-green-400" id="realtime-signals-title">üö® Signaux IA Temps R√©el</h2>
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- FEED SIGNALS LIVE -->
        <div class="bg-gray-900 p-6 rounded-lg border-2 border-red-500">
            <h3 class="text-2xl font-bold mb-4 text-red-400" id="live-feed-title">üì° Feed Live des Signaux</h3>
            
            <div id="signals-feed" class="space-y-3 max-h-96 overflow-y-auto">
                <!-- Signaux g√©n√©r√©s dynamiquement -->
            </div>
            
            <div class="mt-4 text-center">
                <div class="inline-flex items-center px-4 py-2 bg-red-600 rounded-lg">
                    <div class="w-3 h-3 bg-red-400 rounded-full mr-2 pulse-animation"></div>
                    <span id="live-status-text">EN DIRECT</span>
                </div>
            </div>
        </div>

        <!-- ALERTES PERSONNALIS√âES -->
        <div class="bg-gray-900 p-6 rounded-lg border-2 border-orange-500">
            <h3 class="text-2xl font-bold mb-4 text-orange-400" id="alerts-title">üîî Alertes Personnalis√©es</h3>
            
            <div class="space-y-4">
                <!-- CONFIG ALERTES -->
                <div class="bg-black/50 p-4 rounded">
                    <h4 class="text-lg font-bold mb-3 text-yellow-400" id="setup-alerts-title">Configurer les Alertes</h4>
                    
                    <div class="space-y-3">
                        <div>
                            <label class="block text-gray-400 text-sm mb-1" id="price-alert-label">Alerte Prix</label>
                            <input type="number" id="price-alert" class="w-full bg-gray-800 p-2 rounded border border-green-500" placeholder="0.0000">
                        </div>
                        
                        <div>
                            <label class="block text-gray-400 text-sm mb-1" id="rsi-alert-label">Alerte RSI</label>
                            <select id="rsi-alert" class="w-full bg-gray-800 p-2 rounded border border-green-500">
                                <option value="overbought">RSI > 70 (Sur-achat)</option>
                                <option value="oversold">RSI < 30 (Sur-vente)</option>
                            </select>
                        </div>
                        
                        <button id="set-alert-btn" class="w-full px-4 py-2 bg-orange-600 rounded font-bold">
                            <span id="set-alert-text">Activer l'Alerte</span>
                        </button>
                    </div>
                </div>
                
                <!-- ALERTES ACTIVES -->
                <div class="bg-black/50 p-4 rounded">
                    <h4 class="text-lg font-bold mb-3 text-green-400" id="active-alerts-title">Alertes Actives</h4>
                    <div id="active-alerts-list" class="space-y-2">
                        <div class="flex justify-between items-center p-2 bg-yellow-900/30 rounded">
                            <span class="text-sm">ZND > $0.0030</span>
                            <span class="text-xs bg-yellow-600 px-2 py-1 rounded">ACTIVE</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- HISTORIQUE DES TRADES -->
<section class="container mx-auto p-8">
    <div class="bg-gray-900 p-6 rounded-lg border-2 border-yellow-500">
        <h3 class="text-2xl font-bold mb-4 text-yellow-400" id="trades-history-title">üìä Historique de vos Trades</h3>
        <div class="overflow-x-auto">
            <table class="w-full text-sm">
                <thead>
                    <tr class="border-b border-gray-700">
                        <th class="p-2 text-left" id="th-date">Date</th>
                        <th class="p-2 text-left" id="th-pair">Paire</th>
                        <th class="p-2 text-left" id="th-type">Type</th>
                        <th class="p-2 text-left" id="th-side">Side</th>
                        <th class="p-2 text-left" id="th-quantity">Quantit√©</th>
                        <th class="p-2 text-left" id="th-price">Prix</th>
                        <th class="p-2 text-left" id="th-total">Total</th>
                        <th class="p-2 text-left" id="th-status">Statut</th>
                    </tr>
                </thead>
                <tbody id="trades-history">
                    <!-- Rempli automatiquement -->
                </tbody>
            </table>
        </div>
    </div>
</section>

<!-- SECTION IA TRADING -->
<section class="container mx-auto p-8">
    <h2 class="text-4xl font-bold mb-8 text-center text-blue-400" id="ia-title">ü§ñ Intelligence Artificielle Trading</h2>

    <!-- DASHBOARD IA -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- CARTE SIGNAL IA -->
        <div class="lg:col-span-2 bg-gray-900 p-6 rounded-lg border-2 border-blue-500">
            <h3 class="text-2xl font-bold mb-6 text-blue-400" id="signal-title">Signal IA en Temps R√©el</h3>
            
            <!-- GRAPHIQUE -->
            <div class="bg-black p-4 rounded mb-6">
                <div id="tradingview-chart" style="height: 300px;" class="flex items-center justify-center text-gray-500">
                    <div class="text-center">
                        <p class="text-lg mb-2">üìä Graphique TradingView</p>
                        <p class="text-sm">Connect√© et actif</p>
                        <div class="mt-4 candlestick w-full h-32 opacity-30"></div>
                    </div>
                </div>
            </div>
            
            <!-- SIGNAL IA D√âTAILL√â -->
            <div class="text-center p-8 bg-black/50 rounded-lg border border-green-500 mb-6">
                <div id="ai-main-icon" class="text-6xl mb-4">ü§ñ</div>
                <div id="ai-main-signal" class="text-4xl font-bold neon-green mb-2">BUY ZND</div>
                <div class="text-xl text-gray-400 mb-4">Confiance IA: <span id="ai-main-confidence" class="text-yellow-400">87%</span></div>
                <div class="bg-black/70 p-4 rounded-lg text-sm space-y-2">
                    <p><strong id="reason-label">Raison:</strong> <span id="ai-reason">Analyse technique bullish + volume haussier</span></p>
                    <p><strong id="entry-label">Entry:</strong> <span id="ai-entry">$0.0025</span> | <strong id="stoploss-label">Stop Loss:</strong> <span id="ai-sl">$0.0022</span> | <strong id="target-label">Target:</strong> <span id="ai-tp">$0.0030</span></p>
                </div>
                <button id="execute-ai-trade" class="mt-4 px-6 py-3 bg-blue-600 rounded-lg font-bold">
                    <i class="fas fa-robot mr-2"></i> <span id="execute-ai-trade-text">Ex√©cuter Trade IA</span>
                </button>
            </div>
        </div>

        <!-- STATISTIQUES PERFORMANCE -->
        <div class="bg-gray-900 p-6 rounded-lg border-2 border-purple-500">
            <h3 class="text-xl font-bold mb-4 text-purple-400">üìà Performance IA</h3>
            <div class="space-y-4">
                <div class="bg-black/50 p-4 rounded">
                    <p class="text-gray-400 text-sm">Taux de R√©ussite</p>
                    <p class="text-3xl font-bold text-green-400">76.4%</p>
                </div>
                <div class="bg-black/50 p-4 rounded">
                    <p class="text-gray-400 text-sm">Trades Gagnants</p>
                    <p class="text-3xl font-bold text-green-400">42</p>
                </div>
                <div class="bg-black/50 p-4 rounded">
                    <p class="text-gray-400 text-sm">Trades Perdants</p>
                    <p class="text-3xl font-bold text-red-400">13</p>
                </div>
                <div class="bg-black/50 p-4 rounded">
                    <p class="text-gray-400 text-sm">Profit Total</p>
                    <p class="text-3xl font-bold text-yellow-400">+$2,458</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FOOTER -->
<footer class="container mx-auto p-8 mt-12 border-t border-gray-700 text-center">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
        <div>
            <h4 class="font-bold mb-4">ProfitAI.io</h4>
            <p class="text-sm text-gray-400">Plateforme de trading IA leader</p>
        </div>
        <div>
            <h4 class="font-bold mb-4">Produit</h4>
            <ul class="text-sm text-gray-400 space-y-2">
                <li><a href="#" class="hover:text-green-400">Fonctionnalit√©s</a></li>
                <li><a href="#pricing" class="hover:text-green-400">Tarifs</a></li>
                <li><a href="#" class="hover:text-green-400">API</a></li>
            </ul>
        </div>
        <div>
            <h4 class="font-bold mb-4">Support</h4>
            <ul class="text-sm text-gray-400 space-y-2">
                <li><a href="#" class="hover:text-green-400">Centre d'aide</a></li>
                <li><a href="#" class="hover:text-green-400">Contact</a></li>
                <li><a href="#" class="hover:text-green-400">Status</a></li>
            </ul>
        </div>
        <div>
            <h4 class="font-bold mb-4">L√©gal</h4>
            <ul class="text-sm text-gray-400 space-y-2">
                <li><a href="#" class="hover:text-green-400">Mentions l√©gales</a></li>
                <li><a href="#" class="hover:text-green-400">Politique de confidentialit√©</a></li>
                <li><a href="#" class="hover:text-green-400">Risques financiers</a></li>
            </ul>
        </div>
    </div>
    <p class="text-gray-500 text-sm">¬© 2025 ProfitAI.io - Plateforme professionnelle de trading</p>
</footer>

<!-- MODAL DE CONNEXION -->
<div id="login-modal" class="fixed inset-0 bg-black/70 flex items-center justify-center hidden z-50">
    <div class="bg-gray-900 p-8 rounded-lg border-2 border-green-500 max-w-md w-full mx-4">
        <h3 class="text-2xl font-bold mb-6 text-center text-green-400">Connexion</h3>
        <form id="login-form" class="space-y-4">
            <input type="email" placeholder="Email" required 
                   class="w-full p-3 rounded bg-gray-800 border border-green-500">
            <input type="password" placeholder="Mot de passe" required 
                   class="w-full p-3 rounded bg-gray-800 border border-green-500">
            <button type="submit" class="w-full px-6 py-3 bg-green-600 rounded-lg font-bold">
                Se connecter
            </button>
        </form>
        <p class="text-center mt-4 text-sm text-gray-400">
            Pas de compte ? <a href="#" class="text-green-400 hover:underline">S'inscrire</a>
        </p>
        <button onclick="closeLoginModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">
            <i class="fas fa-times"></i>
        </button>
    </div>
</div>

<!-- MODAL D√âTAILS ACTIF -->
<div id="asset-modal" class="fixed inset-0 bg-black/70 flex items-center justify-center hidden z-50">
    <div class="bg-gray-900 p-6 rounded-lg border-2 border-green-500 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-start mb-4">
            <h3 id="modal-title" class="text-2xl font-bold text-green-400">D√©tails de l'actif</h3>
            <button onclick="closeAssetModal()" class="text-gray-400 hover:text-white">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        <div id="modal-content">
            <!-- Contenu dynamique -->
        </div>
    </div>
</div>

<!-- JAVASCRIPT COMPLET AVEC MON√âTISATION -->
<script>
// ===== DONN√âES MULTI-ASSETS =====
const marketAssets = {
    crypto: [
        { symbol: "BTC", name: "Bitcoin", price: 45000, change: 2.4, volume: "28.5B" },
        { symbol: "ETH", name: "Ethereum", price: 3000, change: 1.8, volume: "12.3B" },
        { symbol: "ZND", name: "ZND Token", price: 0.0025, change: 5.4, volume: "45.2M" },
        { symbol: "BNB", name: "Binance Coin", price: 350, change: 0.8, volume: "1.2B" },
        { symbol: "SOL", name: "Solana", price: 120, change: 4.2, volume: "3.4B" },
        { symbol: "XRP", name: "Ripple", price: 0.62, change: -1.2, volume: "2.1B" }
    ],
    
    stocks: [
        { symbol: "TSLA", name: "Tesla Inc", price: 245.50, change: 3.2, volume: "35.2M" },
        { symbol: "AAPL", name: "Apple Inc", price: 185.20, change: 1.5, volume: "58.9M" },
        { symbol: "NVDA", name: "NVIDIA Corp", price: 950.80, change: 5.8, volume: "42.1M" },
        { symbol: "META", name: "Meta Platforms", price: 485.30, change: 2.1, volume: "28.7M" },
        { symbol: "GOOGL", name: "Alphabet Inc", price: 175.40, change: 0.9, volume: "31.5M" },
        { symbol: "JPM", name: "JPMorgan Chase", price: 198.75, change: -0.8, volume: "15.3M" }
    ],
    
    forex: [
        { symbol: "EUR/USD", name: "Euro/Dollar US", price: 1.0850, change: 0.12, volume: "1.2T" },
        { symbol: "GBP/USD", name: "Livre/Dollar US", price: 1.2650, change: 0.08, volume: "890B" },
        { symbol: "USD/JPY", name: "Dollar US/Yen", price: 148.25, change: -0.15, volume: "950B" },
        { symbol: "USD/CAD", name: "Dollar US/Dollar CAD", price: 1.3520, change: 0.05, volume: "450B" },
        { symbol: "AUD/USD", name: "Dollar AUD/Dollar US", price: 0.6580, change: -0.20, volume: "520B" },
        { symbol: "USD/CHF", name: "Dollar US/Franc Suisse", price: 0.8680, change: 0.10, volume: "380B" }
    ],
    
    indices: [
        { symbol: "SPX", name: "S&P 500", price: 5120.50, change: 0.85, volume: "4.2B" },
        { symbol: "NASDAQ", name: "Nasdaq 100", price: 17980.25, change: 1.25, volume: "3.8B" },
        { symbol: "DJI", name: "Dow Jones", price: 38750.40, change: 0.45, volume: "2.9B" },
        { symbol: "DAX", name: "DAX 40", price: 17720.30, change: 0.65, volume: "1.8B" },
        { symbol: "FTSE", name: "FTSE 100", price: 7680.15, change: -0.25, volume: "1.5B" },
        { symbol: "NIKKEI", name: "Nikkei 225", price: 38570.80, change: 1.85, volume: "2.1B" }
    ],
    
    metals: [
        { symbol: "XAU/USD", name: "Or", price: 2185.50, change: 0.75, volume: "285B" },
        { symbol: "XAG/USD", name: "Argent", price: 24.35, change: 1.25, volume: "45B" },
        { symbol: "XPT/USD", name: "Platine", price: 920.80, change: -0.35, volume: "18B" },
        { symbol: "XPD/USD", name: "Palladium", price: 1050.40, change: -1.20, volume: "12B" },
        { symbol: "COPPER", name: "Cuivre", price: 3.85, change: 0.45, volume: "35B" },
        { symbol: "ALUMINUM", name: "Aluminium", price: 2.25, change: 0.15, volume: "28B" }
    ]
};

// ===== GESTION DES MARCH√âS =====
function initializeMarkets() {
    const marketSelect = document.getElementById('market-type');
    const assetsGrid = document.getElementById('assets-grid');
    
    // √âcouteur changement de march√©
    marketSelect.addEventListener('change', function(e) {
        updateAssetsGrid(e.target.value);
    });
    
    // Initialisation premier march√©
    updateAssetsGrid('crypto');
}

function updateAssetsGrid(marketType) {
    const assetsGrid = document.getElementById('assets-grid');
    const assets = marketAssets[marketType];
    
    assetsGrid.innerHTML = '';
    
    assets.forEach(asset => {
        const changeColor = asset.change >= 0 ? 'text-green-400' : 'text-red-400';
        const changeIcon = asset.change >= 0 ? 'üìà' : 'üìâ';
        
        const assetCard = document.createElement('div');
        assetCard.className = 'bg-black/50 p-4 rounded-lg border border-gray-700 hover:border-green-500 cursor-pointer transition duration-300';
        assetCard.onclick = () => openAssetModal(asset, marketType);
        
        assetCard.innerHTML = `
            <div class="flex justify-between items-start mb-2">
                <div>
                    <h4 class="font-bold text-lg">${asset.symbol}</h4>
                    <p class="text-gray-400 text-sm">${asset.name}</p>
                </div>
                <span class="text-2xl">${getAssetIcon(asset.symbol)}</span>
            </div>
            
            <div class="mt-4">
                <p class="text-2xl font-bold">$${asset.price.toLocaleString()}</p>
                <p class="${changeColor} text-sm mt-1">
                    ${changeIcon} ${asset.change >= 0 ? '+' : ''}${asset.change}%
                </p>
                <p class="text-gray-400 text-xs mt-2">Volume: ${asset.volume}</p>
            </div>
            
            <div class="mt-3 flex gap-2">
                <button onclick="event.stopPropagation(); prepareQuickTrade('${asset.symbol}', 'buy')" 
                        class="flex-1 py-2 bg-green-600 rounded text-sm font-bold hover:bg-green-700">
                    Acheter
                </button>
                <button onclick="event.stopPropagation(); prepareQuickTrade('${asset.symbol}', 'sell')" 
                        class="flex-1 py-2 bg-red-600 rounded text-sm font-bold hover:bg-red-700">
                    Vendre
                </button>
            </div>
        `;
        
        assetsGrid.appendChild(assetCard);
    });
}

function getAssetIcon(symbol) {
    const icons = {
        // Crypto
        'BTC': '‚Çø', 'ETH': 'Œû', 'ZND': '‚ö°', 'BNB': 'üíé', 'SOL': 'üîó', 'XRP': '‚úï',
        // Actions
        'TSLA': 'üöó', 'AAPL': 'üçé', 'NVDA': 'üéÆ', 'META': 'üë•', 'GOOGL': 'üîç', 'JPM': 'üè¶',
        // Forex
        'EUR/USD': 'üí∂', 'GBP/USD': 'üí∑', 'USD/JPY': 'üí¥', 'USD/CAD': 'üçÅ', 'AUD/USD': 'ü¶ò', 'USD/CHF': 'üá®üá≠',
        // Indices
        'SPX': 'üìä', 'NASDAQ': 'üíª', 'DJI': 'üè¢', 'DAX': 'üá©üá™', 'FTSE': 'üá¨üáß', 'NIKKEI': 'üáØüáµ',
        // M√©taux
        'XAU/USD': 'ü•á', 'XAG/USD': 'ü•à', 'XPT/USD': '‚ö™', 'XPD/USD': 'üîò', 'COPPER': 'üî¥', 'ALUMINUM': 'üîµ'
    };
    return icons[symbol] || 'üìä';
}

// ===== MODAL D√âTAILS ACTIF =====
function openAssetModal(asset, marketType) {
    const modal = document.getElementById('asset-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalContent = document.getElementById('modal-content');
    
    modalTitle.textContent = `${asset.symbol} - ${asset.name}`;
    
    modalContent.innerHTML = `
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- INFORMATIONS DE BASE -->
            <div class="space-y-4">
                <h4 class="text-lg font-bold text-blue-400">Informations</h4>
                <div class="bg-black/30 p-4 rounded">
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-400">Prix actuel:</span>
                        <span class="text-xl font-bold">$${asset.price.toLocaleString()}</span>
                    </div>
                    <div class="flex justify-between mb-2">
                        <span class="text-gray-400">Variation 24h:</span>
                        <span class="${asset.change >= 0 ? 'text-green-400' : 'text-red-400'} font-bold">
                            ${asset.change >= 0 ? '+' : ''}${asset.change}%
                        </span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-gray-400">Volume:</span>
                        <span class="font-bold">${asset.volume}</span>
                    </div>
                </div>
                
                <!-- ANALYSE IA RAPIDE -->
                <div class="bg-black/30 p-4 rounded">
                    <h5 class="font-bold text-yellow-400 mb-2">üìä Analyse IA</h5>
                    <p class="text-sm text-gray-300">${generateAIAnalysis(asset, marketType)}</p>
                </div>
            </div>
            
            <!-- TRADING RAPIDE -->
            <div>
                <h4 class="text-lg font-bold text-green-400 mb-4">Trading Rapide</h4>
                <div class="space-y-3">
                    <input type="number" id="quick-quantity" placeholder="Quantit√©" 
                           class="w-full p-2 bg-gray-800 rounded border border-green-500">
                    
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="executeQuickTrade('${asset.symbol}', 'buy')" 
                                class="py-3 bg-green-600 rounded font-bold hover:bg-green-700">
                            üü¢ Acheter
                        </button>
                        <button onclick="executeQuickTrade('${asset.symbol}', 'sell')" 
                                class="py-3 bg-red-600 rounded font-bold hover:bg-red-700">
                            üî¥ Vendre
                        </button>
                    </div>
                    
                    <!-- SIGNAL IA -->
                    <div class="mt-4 p-3 bg-blue-900/30 rounded border border-blue-500">
                        <p class="text-sm">
                            <span class="font-bold text-yellow-400">Signal IA:</span>
                            <span id="asset-signal" class="ml-2">BUY</span>
                        </p>
                        <p class="text-xs text-gray-400 mt-1">Confiance: 87%</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- GRAPHIQUE SIMUL√â -->
        <div class="mt-6 bg-black/50 p-4 rounded">
            <h4 class="text-lg font-bold text-purple-400 mb-3">Performance</h4>
            <div class="h-32 bg-gray-800 rounded flex items-center justify-center text-gray-500">
                Graphique ${asset.symbol} - Donn√©es en temps r√©el
            </div>
        </div>
    `;
    
    modal.classList.remove('hidden');
}

function closeAssetModal() {
    document.getElementById('asset-modal').classList.add('hidden');
}

function generateAIAnalysis(asset, marketType) {
    const analyses = {
        crypto: [
            "Fort momentum haussier d√©tect√© avec volume croissant",
            "Consolidation technique, rupture proche probable",
            "RSI neutre, attente signal directionnel"
        ],
        stocks: [
            "Solide fondamental avec croissance des revenus",
            "Support technique test√© avec succ√®s",
            "Divergence positive sur indicateurs"
        ],
        forex: [
            "Tendance principale intacte, pullback d'achat",
            "Range trading, attente breakout",
            "Dynamique de carry trade favorable"
        ],
        indices: [
            "Biais haussier sur momentum macro",
            "Resistance majeure test√©e",
            "Rotation sectorielle favorable"
        ],
        metals: [
            "Hedge inflation attractif",
            "Dollar impactant le momentum",
            "Demande industrielle soutenue"
        ]
    };
    
    const marketAnalyses = analyses[marketType] || analyses.crypto;
    return marketAnalyses[Math.floor(Math.random() * marketAnalyses.length)];
}

// ===== TRADING RAPIDE =====
function prepareQuickTrade(symbol, side) {
    // Pr√©-remplir le formulaire de trading principal
    document.getElementById('asset-select').value = symbol;
    document.getElementById('quantity').value = side === 'buy' ? '100' : '50';
    
    // Scroll vers le panel de trading
    document.getElementById('trade-panel-title').scrollIntoView({ 
        behavior: 'smooth' 
    });
    
    showNotification(`üîÑ Trade ${side === 'buy' ? 'd\\'achat' : 'de vente'} pr√©par√© pour ${symbol}`, 'info');
}

function executeQuickTrade(symbol, side) {
    const quantity = document.getElementById('quick-quantity').value;
    
    if (!quantity || quantity <= 0) {
        showNotification('‚ùå Veuillez entrer une quantit√© valide', 'error');
        return;
    }
    
    // Simulation d'ex√©cution
    showNotification(`‚úÖ Ordre ${side === 'buy' ? 'd\\'achat' : 'de vente'} ex√©cut√©: ${quantity} ${symbol}`, 'success');
    closeAssetModal();
}

// ===== MISE √Ä JOUR TEMPS R√âEL =====
function updateMarketPrices() {
    Object.keys(marketAssets).forEach(marketType => {
        marketAssets[marketType].forEach(asset => {
            // Simulation de variation de prix
            const change = (Math.random() - 0.5) * 2;
            asset.price *= (1 + change / 100);
            asset.change = change;
        });
    });
    
    // Mettre √† jour l'affichage si un march√© est ouvert
    const currentMarket = document.getElementById('market-type').value;
    updateAssetsGrid(currentMarket);
}

// ===== TRADUCTIONS COMPL√àTES =====
const translations = {
    fr: {
        // Page principale
        "pageTitle": "ProfitAI.io - Trading IA Automatis√©",
        "legalBanner": "‚ö†Ô∏è PLATEFORME PROFESSIONNELLE - TRADING AVEC RISQUES - CONSULTEZ UN CONSEILLER FINANCIER",
        "znd-description": "La premi√®re crypto-monnaie index√©e sur des min√©raux r√©els",
        "znd-price-label": "Prix ZND",
        "znd-buy-btn": "Acheter ZND sur MineralX",
        
        // Trading
        "trading-title": "üíπ Plateforme de Trading",
        "trade-panel-title": "Ex√©cuter un Trade",
        "asset-select-label": "Actif √† trader",
        "order-type-label": "Type d'ordre",
        "limit-price-label": "Prix Limite (USDT)",
        "quantity-label": "Quantit√©",
        "buy-btn-text": "ACHETER",
        "sell-btn-text": "VENDRE",
        "summary-title": "R√©sum√© du Trade",
        "summary-asset-label": "Actif:",
        "summary-side-label": "Direction:",
        "summary-quantity-label": "Quantit√©:",
        "summary-price-label": "Prix:",
        "summary-total-label": "Total:",
        "confirm-trade-text": "Confirmer le Trade",
        "portfolio-title": "Votre Portfolio",
        "connect-wallet-text": "Connecter MetaMask",
        "trades-history-title": "üìä Historique de vos Trades",
        "th-date": "Date",
        "th-pair": "Paire",
        "th-type": "Type",
        "th-side": "Side",
        "th-quantity": "Quantit√©",
        "th-price": "Prix",
        "th-total": "Total",
        "th-status": "Statut",
        
        // IA Trading
        "ia-title": "ü§ñ Intelligence Artificielle Trading",
        "signal-title": "Signal IA en Temps R√©el",
        "reason-label": "Raison:",
        "entry-label": "Entry:",
        "stoploss-label": "Stop Loss:",
        "target-label": "Target:",
        "execute-ai-trade-text": "Ex√©cuter Trade IA",
        
        // Analyse Technique
        "tech-analysis-title": "üìä Analyse Technique IA Temps R√©el",
        "indicators-title": "üìà Indicateurs Techniques",
        "rsi-indicator-label": "RSI (14)",
        "macd-indicator-label": "MACD",
        "bollinger-label": "Bollinger Bands",
        "volume-indicator-label": "Volume 24h",
        "sentiment-title": "üéØ Sentiment de March√© IA",
        "factors-title": "Facteurs d'Influence",
        "ml-predictions-title": "ü§ñ Pr√©dictions Machine Learning",
        "pred-1h-title": "1 Heure",
        "pred-24h-title": "24 Heures",
        "pred-7d-title": "7 Jours",
        "ml-algorithms-title": "Algorithmes ML Actifs",
        
        // Signaux Temps R√©el
        "realtime-signals-title": "üö® Signaux IA Temps R√©el",
        "live-feed-title": "üì° Feed Live des Signaux",
        "live-status-text": "EN DIRECT",
        "alerts-title": "üîî Alertes Personnalis√©es",
        "setup-alerts-title": "Configurer les Alertes",
        "price-alert-label": "Alerte Prix",
        "rsi-alert-label": "Alerte RSI",
        "set-alert-text": "Activer l'Alerte",
        "active-alerts-title": "Alertes Actives"
    },
    en: {
        "pageTitle": "ProfitAI.io - AI Automated Trading",
        "legalBanner": "‚ö†Ô∏è PROFESSIONAL PLATFORM - TRADING INVOLVES RISK - CONSULT A FINANCIAL ADVISOR",
        "znd-description": "The first cryptocurrency backed by real minerals",
        "znd-price-label": "ZND Price",
        "znd-buy-btn": "Buy ZND on MineralX",
        
        "trading-title": "üíπ Trading Platform",
        "trade-panel-title": "Execute Trade",
        "asset-select-label": "Asset to trade",
        "order-type-label": "Order type",
        "limit-price-label": "Limit Price (USDT)",
        "quantity-label": "Quantity",
        "buy-btn-text": "BUY",
        "sell-btn-text": "SELL",
        "summary-title": "Trade Summary",
        "summary-asset-label": "Asset:",
        "summary-side-label": "Side:",
        "summary-quantity-label": "Quantity:",
        "summary-price-label": "Price:",
        "summary-total-label": "Total:",
        "confirm-trade-text": "Confirm Trade",
        "portfolio-title": "Your Portfolio",
        "connect-wallet-text": "Connect MetaMask",
        "trades-history-title": "üìä Your Trades History",
        "th-date": "Date",
        "th-pair": "Pair",
        "th-type": "Type",
        "th-side": "Side",
        "th-quantity": "Quantity",
        "th-price": "Price",
        "th-total": "Total",
        "th-status": "Status",
        
        "ia-title": "ü§ñ Artificial Intelligence Trading",
        "signal-title": "Real-time AI Signal",
        "reason-label": "Reason:",
        "entry-label": "Entry:",
        "stoploss-label": "Stop Loss:",
        "target-label": "Target:",
        "execute-ai-trade-text": "Execute AI Trade",
        
        "tech-analysis-title": "üìä Real-time AI Technical Analysis",
        "indicators-title": "üìà Technical Indicators",
        "rsi-indicator-label": "RSI (14)",
        "macd-indicator-label": "MACD",
        "bollinger-label": "Bollinger Bands",
        "volume-indicator-label": "Volume 24h",
        "sentiment-title": "üéØ AI Market Sentiment",
        "factors-title": "Influence Factors",
        "ml-predictions-title": "ü§ñ Machine Learning Predictions",
        "pred-1h-title": "1 Hour",
        "pred-24h-title": "24 Hours",
        "pred-7d-title": "7 Days",
        "ml-algorithms-title": "Active ML Algorithms",
        
        "realtime-signals-title": "üö® Real-time AI Signals",
        "live-feed-title": "üì° Live Signals Feed",
        "live-status-text": "LIVE",
        "alerts-title": "üîî Custom Alerts",
        "setup-alerts-title": "Setup Alerts",
        "price-alert-label": "Price Alert",
        "rsi-alert-label": "RSI Alert",
        "set-alert-text": "Enable Alert",
        "active-alerts-title": "Active Alerts"
    },
    ru: {
        "pageTitle": "ProfitAI.io - AI –ê–≤—Ç–æ—Ç—Ä–µ–π–¥–∏–Ω–≥",
        "legalBanner": "‚ö†Ô∏è –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–ê–Ø –ü–õ–ê–¢–§–û–†–ú–ê - –¢–û–†–ì–û–í–õ–Ø –° –†–ò–°–ö–û–ú - –ö–û–ù–°–£–õ–¨–¢–ò–†–£–ô–¢–ï–°–¨ –° –§–ò–ù–°–û–í–´–ú –°–û–í–ï–¢–ù–ò–ö–û–ú",
        "znd-description": "–ü–µ—Ä–≤–∞—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞, –æ–±–µ—Å–ø–µ—á–µ–Ω–Ω–∞—è —Ä–µ–∞–ª—å–Ω—ã–º–∏ –º–∏–Ω–µ—Ä–∞–ª–∞–º–∏",
        "znd-price-label": "–¶–µ–Ω–∞ ZND",
        "znd-buy-btn": "–ö—É–ø–∏—Ç—å ZND –Ω–∞ MineralX",
        
        "trading-title": "üíπ –¢–æ—Ä–≥–æ–≤–∞—è –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞",
        "trade-panel-title": "–í—ã–ø–æ–ª–Ω–∏—Ç—å –°–¥–µ–ª–∫—É",
        "asset-select-label": "–ê–∫—Ç–∏–≤ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏",
        "order-type-label": "–¢–∏–ø –æ—Ä–¥–µ—Ä–∞",
        "limit-price-label": "–õ–∏–º–∏—Ç–Ω–∞—è –¶–µ–Ω–∞ (USDT)",
        "quantity-label": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ",
        "buy-btn-text": "–ö–£–ü–ò–¢–¨",
        "sell-btn-text": "–ü–†–û–î–ê–¢–¨",
        "summary-title": "–°–≤–æ–¥–∫–∞ –°–¥–µ–ª–∫–∏",
        "summary-asset-label": "–ê–∫—Ç–∏–≤:",
        "summary-side-label": "–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:",
        "summary-quantity-label": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:",
        "summary-price-label": "–¶–µ–Ω–∞:",
        "summary-total-label": "–í—Å–µ–≥–æ:",
        "confirm-trade-text": "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –°–¥–µ–ª–∫—É",
        "portfolio-title": "–í–∞—à –ü–æ—Ä—Ç—Ñ–µ–ª—å",
        "connect-wallet-text": "–ü–æ–¥–∫–ª—é—á–∏—Ç—å MetaMask",
        "trades-history-title": "üìä –ò—Å—Ç–æ—Ä–∏—è –í–∞—à–∏—Ö –°–¥–µ–ª–æ–∫",
        "th-date": "–î–∞—Ç–∞",
        "th-pair": "–ü–∞—Ä–∞",
        "th-type": "–¢–∏–ø",
        "th-side": "–°—Ç–æ—Ä–æ–Ω–∞",
        "th-quantity": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ",
        "th-price": "–¶–µ–Ω–∞",
        "th-total": "–í—Å–µ–≥–æ",
        "th-status": "–°—Ç–∞—Ç—É—Å",
        
        "ia-title": "ü§ñ –¢–æ—Ä–≥–æ–≤–ª—è —Å –ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º",
        "signal-title": "–°–∏–≥–Ω–∞–ª AI –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏",
        "reason-label": "–ü—Ä–∏—á–∏–Ω–∞:",
        "entry-label": "–í—Ö–æ–¥:",
        "stoploss-label": "–°—Ç–æ–ø –õ–æ—Å—Å:",
        "target-label": "–¶–µ–ª—å:",
        "execute-ai-trade-text": "–í—ã–ø–æ–ª–Ω–∏—Ç—å –°–¥–µ–ª–∫—É AI",
        
        "tech-analysis-title": "üìä AI –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ê–Ω–∞–ª–∏–∑ –≤ –†–µ–∞–ª—å–Ω–æ–º –í—Ä–µ–º–µ–Ω–∏",
        "indicators-title": "üìà –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã",
        "rsi-indicator-label": "RSI (14)",
        "macd-indicator-label": "MACD",
        "bollinger-label": "–ü–æ–ª–æ—Å—ã –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞",
        "volume-indicator-label": "–û–±—ä–µ–º 24—á",
        "sentiment-title": "üéØ AI –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –†—ã–Ω–∫–∞",
        "factors-title": "–§–∞–∫—Ç–æ—Ä—ã –í–ª–∏—è–Ω–∏—è",
        "ml-predictions-title": "ü§ñ –ü—Ä–æ–≥–Ω–æ–∑—ã –ú–∞—à–∏–Ω–Ω–æ–≥–æ –û–±—É—á–µ–Ω–∏—è",
        "pred-1h-title": "1 –ß–∞—Å",
        "pred-24h-title": "24 –ß–∞—Å–∞",
        "pred-7d-title": "7 –î–Ω–µ–π",
        "ml-algorithms-title": "–ê–∫—Ç–∏–≤–Ω—ã–µ ML –ê–ª–≥–æ—Ä–∏—Ç–º—ã",
        
        "realtime-signals-title": "üö® AI –°–∏–≥–Ω–∞–ª—ã –≤ –†–µ–∞–ª—å–Ω–æ–º –í—Ä–µ–º–µ–Ω–∏",
        "live-feed-title": "üì° –õ–µ–Ω—Ç–∞ –°–∏–≥–Ω–∞–ª–æ–≤",
        "live-status-text": "–í –≠–§–ò–†–ï",
        "alerts-title": "üîî –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –û–ø–æ–≤–µ—â–µ–Ω–∏—è",
        "setup-alerts-title": "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –û–ø–æ–≤–µ—â–µ–Ω–∏–π",
        "price-alert-label": "–û–ø–æ–≤–µ—â–µ–Ω–∏–µ –¶–µ–Ω—ã",
        "rsi-alert-label": "–û–ø–æ–≤–µ—â–µ–Ω–∏–µ RSI",
        "set-alert-text": "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –û–ø–æ–≤–µ—â–µ–Ω–∏–µ",
        "active-alerts-title": "–ê–∫—Ç–∏–≤–Ω—ã–µ –û–ø–æ–≤–µ—â–µ–Ω–∏—è"
    }
};

// ===== √âTAT GLOBAL AVEC MON√âTISATION =====
let userPortfolio = {
    USDT: 10000.00,
    assets: {
        ZND: { amount: 0, avgPrice: 0 },
        BTC: { amount: 0, avgPrice: 0 },
        ETH: { amount: 0, avgPrice: 0 },
        BNB: { amount: 0, avgPrice: 0 }
    }
};

let currentPrices = {
    ZND: 0.0025,
    BTC: 45000,
    ETH: 3000,
    BNB: 350
};

let tradesHistory = [];
let userSubscription = {
    plan: 'starter',
    expiry: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000), // 30 jours
    signalsUsed: 2,
    signalsLimit: 10
};

let referralStats = {
    count: 5,
    earnings: 124,
    pending: 29,
    rank: 42
};

// ===== STRIPE INT√âGRATION =====
const stripe = Stripe('pk_test_taCl√©StripePublique');

// ===== FONCTION DE TRADUCTION =====
function updateLanguage(lang) {
    document.documentElement.lang = lang;
    
    Object.keys(translations[lang]).forEach(key => {
        const element = document.getElementById(key);
        if (element) {
            if (element.tagName === 'INPUT' || element.tagName === 'SELECT') {
                element.placeholder = translations[lang][key];
            } else {
                element.textContent = translations[lang][key];
            }
        }
    });
}

// ===== INITIALISATION =====
document.addEventListener('DOMContentLoaded', function() {
    updateLanguage('fr');
    initializeTrading();
    initializeMonetization();
    updatePortfolioDisplay();
    generateTradesHistory();
    updateUserDashboard();
    updateReferralStats();
    startRealTimeUpdates();
    initializeValues();
    initializeMarkets(); // Initialiser les march√©s multi-assets
    
    document.getElementById('lang-select').addEventListener('change', (e) => {
        updateLanguage(e.target.value);
    });
});

// ===== SYST√àME DE MON√âTISATION =====
function initializeMonetization() {
    // Gestion des abonnements
    document.querySelectorAll('.subscribe-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
            const plan = e.target.dataset.plan;
            initiateSubscription(plan);
        });
    });

    // Formulaire lead generation
    document.getElementById('lead-form').addEventListener('submit', (e) => {
        e.preventDefault();
        captureLead();
    });

    // Gestion dashboard
    document.getElementById('upgrade-btn').addEventListener('click', () => {
        initiateSubscription('pro');
    });

    document.getElementById('cancel-btn').addEventListener('click', () => {
        if(confirm('√ätes-vous s√ªr de vouloir suspendre votre abonnement ?')) {
            suspendSubscription();
        }
    });

    // Modal connexion
    document.getElementById('login-btn').addEventListener('click', openLoginModal);
    document.getElementById('login-form').addEventListener('submit', handleLogin);
}

// ===== CAPTURE LEAD =====
function captureLead() {
    const email = document.getElementById('lead-email').value;
    
    // Simulation envoi email
    showNotification('üéâ F√©licitations ! Tes 3 signaux gratuits arrivent dans ta bo√Æte email !', 'success');
    
    // Rediriger vers la page d'abonnement
    setTimeout(() => {
        document.getElementById('lead-email').value = '';
        document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' });
    }, 2000);
}

// ===== ABONNEMENT STRIPE =====
async function initiateSubscription(plan) {
    const prices = {
        'starter': 2900,
        'pro': 9900,
        'institution': 49900
    };

    try {
        // Simulation - En production, appeler ton backend
        const response = await fetch('/create-checkout-session', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ 
                plan: plan,
                price: prices[plan]
            })
        });
        
        const session = await response.json();
        
        // Redirection vers Stripe
        const result = await stripe.redirectToCheckout({
            sessionId: session.id
        });
        
    } catch (error) {
        // Fallback simulation pour la d√©mo
        showNotification(`üéØ Abonnement ${plan} activ√© ! Redirection vers le paiement...`, 'success');
        simulatePaymentSuccess(plan);
    }
}

function simulatePaymentSuccess(plan) {
    setTimeout(() => {
        userSubscription.plan = plan;
        userSubscription.expiry = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);
        userSubscription.signalsLimit = plan === 'starter' ? 10 : plan === 'pro' ? 50 : 999;
        
        updateUserDashboard();
        showNotification(`‚úÖ Abonnement ${plan} activ√© avec succ√®s !`, 'success');
    }, 2000);
}

function suspendSubscription() {
    userSubscription.plan = 'none';
    updateUserDashboard();
    showNotification('‚è∏Ô∏è Abonnement suspendu', 'info');
}

// ===== TABLEAU DE BORD UTILISATEUR =====
function updateUserDashboard() {
    document.getElementById('user-plan').textContent = userSubscription.plan.charAt(0).toUpperCase() + userSubscription.plan.slice(1);
    document.getElementById('plan-expiry').textContent = `Expire le ${userSubscription.expiry.toLocaleDateString()}`;
    
    const signalsLeft = userSubscription.signalsLimit - userSubscription.signalsUsed;
    document.getElementById('signals-left').textContent = `${signalsLeft}/${userSubscription.signalsLimit}`;
    
    // Mettre √† jour la barre de progression
    const progress = (signalsLeft / userSubscription.signalsLimit) * 100;
    document.querySelector('#signals-left').nextElementSibling.querySelector('div').style.width = `${progress}%`;
    
    document.getElementById('next-payment').textContent = 
        userSubscription.plan === 'starter' ? '29‚Ç¨' : 
        userSubscription.plan === 'pro' ? '99‚Ç¨' : '499‚Ç¨';
}

// ===== SYST√àME DE PARRAINAGE =====
function updateReferralStats() {
    document.getElementById('ref-count').textContent = referralStats.count;
    document.getElementById('ref-earnings').textContent = `${referralStats.earnings}‚Ç¨`;
    document.getElementById('ref-pending').textContent = `${referralStats.pending}‚Ç¨`;
    document.getElementById('ref-rank').textContent = `#${referralStats.rank}`;
}

function copyRefLink() {
    const refLink = document.getElementById('ref-link');
    refLink.select();
    document.execCommand('copy');
    showNotification('üîó Lien de parrainage copi√© !', 'success');
}

// ===== MODAL CONNEXION =====
function openLoginModal() {
    document.getElementById('login-modal').classList.remove('hidden');
}

function closeLoginModal() {
    document.getElementById('login-modal').classList.add('hidden');
}

function handleLogin(e) {
    e.preventDefault();
    showNotification('üîê Connexion r√©ussie !', 'success');
    closeLoginModal();
}

// ===== FONCTIONS TRADING EXISTANTES =====
function initializeTrading() {
    document.getElementById('order-type').addEventListener('change', function(e) {
        const priceContainer = document.getElementById('price-input-container');
        if (e.target.value === 'limit') {
            priceContainer.classList.remove('hidden');
        } else {
            priceContainer.classList.add('hidden');
        }
    });

    document.getElementById('buy-btn').addEventListener('click', () => prepareTrade('buy'));
    document.getElementById('sell-btn').addEventListener('click', () => prepareTrade('sell'));
    document.getElementById('confirm-trade-btn').addEventListener('click', executeTrade);
    document.getElementById('connect-wallet-btn').addEventListener('click', connectWallet);
    document.getElementById('execute-ai-trade').addEventListener('click', executeAITrade);
    document.getElementById('set-alert-btn').addEventListener('click', setupAlert);
}

function prepareTrade(side) {
    if (userSubscription.plan === 'none') {
        showNotification('üîí Abonnement requis pour trader', 'error');
        document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' });
        return;
    }

    const asset = document.getElementById('asset-select').value;
    const orderType = document.getElementById('order-type').value;
    const quantity = parseFloat(document.getElementById('quantity').value);
    
    if (quantity <= 0) {
        alert("Veuillez entrer une quantit√© valide");
        return;
    }
    
    let price;
    if (orderType === 'market') {
        price = currentPrices[asset];
    } else {
        price = parseFloat(document.getElementById('limit-price').value);
        if (price <= 0) {
            alert("Veuillez entrer un prix limite valide");
            return;
        }
    }
    
    const total = quantity * price;
    
    if (side === 'buy' && total > userPortfolio.USDT) {
        alert("Fonds insuffisants en USDT");
        return;
    }
    
    if (side === 'sell' && quantity > userPortfolio.assets[asset].amount) {
        alert(`Quantit√© insuffisante de ${asset}`);
        return;
    }
    
    document.getElementById('trade-asset').textContent = asset;
    document.getElementById('trade-side').textContent = side === 'buy' ? 'ACHAT' : 'VENTE';
    document.getElementById('trade-side').className = side === 'buy' ? 'text-green-400' : 'text-red-400';
    document.getElementById('trade-quantity').textContent = quantity;
    document.getElementById('trade-price').textContent = '$' + price.toFixed(4);
    document.getElementById('trade-total').textContent = '$' + total.toFixed(2);
    
    document.getElementById('trade-summary').classList.remove('hidden');
    
    window.currentTrade = { asset, side, orderType, quantity, price, total };
}

function executeTrade() {
    const trade = window.currentTrade;
    
    // Utiliser un signal
    if (userSubscription.signalsUsed < userSubscription.signalsLimit) {
        userSubscription.signalsUsed++;
    } else {
        showNotification('üìä Limite de signaux atteinte. Passe √† un plan sup√©rieur !', 'error');
        return;
    }
    
    if (trade.side === 'buy') {
        userPortfolio.USDT -= trade.total;
        userPortfolio.assets[trade.asset].amount += trade.quantity;
        userPortfolio.assets[trade.asset].avgPrice = trade.price;
    } else {
        userPortfolio.USDT += trade.total;
        userPortfolio.assets[trade.asset].amount -= trade.quantity;
    }
    
    tradesHistory.unshift({
        id: Date.now(),
        date: new Date(),
        asset: trade.asset,
        side: trade.side,
        type: trade.orderType,
        quantity: trade.quantity,
        price: trade.price,
        total: trade.total,
        status: 'filled'
    });
    
    updatePortfolioDisplay();
    generateTradesHistory();
    updateUserDashboard();
    
    document.getElementById('trade-summary').classList.add('hidden');
    
    showNotification(`‚úÖ Trade ex√©cut√©: ${trade.side.toUpperCase()} ${trade.quantity} ${trade.asset}`, 'success');
}

async function connectWallet() {
    if (!window.ethereum) {
        alert("MetaMask non d√©tect√© ! Veuillez installer l'extension.");
        return;
    }
    
    try {
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
        const addr = accounts[0];
        
        const connectBtn = document.getElementById('connect-wallet-btn');
        connectBtn.innerHTML = `${addr.slice(0,6)}...${addr.slice(-4)}`;
        connectBtn.classList.add('bg-green-600');
        
        document.getElementById('portfolio-details').classList.remove('hidden');
        
        showNotification("üîó Wallet connect√© avec succ√®s", 'success');
        
    } catch (error) {
        console.error("Erreur connexion wallet:", error);
        alert("Erreur lors de la connexion au wallet");
    }
}

function updatePortfolioDisplay() {
    document.getElementById('usdt-bal').textContent = userPortfolio.USDT.toFixed(2);
    
    const assetsList = document.getElementById('assets-list');
    assetsList.innerHTML = '';
    
    Object.keys(userPortfolio.assets).forEach(asset => {
        const holding = userPortfolio.assets[asset];
        if (holding.amount > 0) {
            const value = holding.amount * currentPrices[asset];
            const pnl = ((currentPrices[asset] - holding.avgPrice) / holding.avgPrice * 100);
            
            const assetDiv = document.createElement('div');
            assetDiv.className = 'flex justify-between items-center';
            assetDiv.innerHTML = `
                <span class="font-bold">${asset}</span>
                <div class="text-right">
                    <div>${holding.amount.toFixed(4)}</div>
                    <div class="text-xs ${pnl >= 0 ? 'text-green-400' : 'text-red-400'}">
                        ${pnl >= 0 ? '+' : ''}${pnl.toFixed(2)}%
                    </div>
                </div>
            `;
            assetsList.appendChild(assetDiv);
        }
    });
    
    const totalValue = Object.keys(userPortfolio.assets).reduce((total, asset) => {
        return total + (userPortfolio.assets[asset].amount * currentPrices[asset]);
    }, userPortfolio.USDT);
    
    const initialValue = 10000;
    const perf = ((totalValue - initialValue) / initialValue * 100);
    
    document.getElementById('portfolio-perf').textContent = 
        `${perf >= 0 ? '+' : ''}${perf.toFixed(2)}%`;
    document.getElementById('portfolio-perf').className = 
        `text-xl font-bold ${perf >= 0 ? 'text-green-400' : 'text-red-400'}`;
    
    document.getElementById('pnl').textContent = 
        `PNL: $${(totalValue - initialValue).toFixed(2)}`;
}

function generateTradesHistory() {
    const tbody = document.getElementById('trades-history');
    tbody.innerHTML = '';
    
    tradesHistory.slice(0, 10).forEach(trade => {
        const row = document.createElement('tr');
        row.className = 'border-b border-gray-800 hover:bg-gray-800/30';
        row.innerHTML = `
            <td class="p-2">${trade.date.toLocaleString()}</td>
            <td class="p-2 font-bold">${trade.asset}/USDT</td>
            <td class="p-2">${trade.type}</td>
            <td class="p-2 font-bold ${trade.side === 'buy' ? 'text-green-400' : 'text-red-400'}">
                ${trade.side.toUpperCase()}
            </td>
            <td class="p-2">${trade.quantity}</td>
            <td class="p-2">$${trade.price.toFixed(4)}</td>
            <td class="p-2">$${trade.total.toFixed(2)}</td>
            <td class="p-2">
                <span class="px-2 py-1 rounded text-xs ${trade.status === 'filled' ? 'bg-green-900 text-green-300' : 'bg-yellow-900 text-yellow-300'}">
                    ${trade.status}
                </span>
            </td>
        `;
        tbody.appendChild(row);
    });
}

function executeAITrade() {
    if (userSubscription.plan === 'none') {
        showNotification('üîí Abonnement requis pour le trading IA', 'error');
        document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' });
        return;
    }

    const aiSignal = document.getElementById('ai-main-signal').textContent;
    const [action, asset] = aiSignal.split(' ');
    
    if (action !== 'BUY' && action !== 'SELL') {
        alert("Signal IA non valide pour le trading");
        return;
    }
    
    document.getElementById('asset-select').value = asset;
    document.getElementById('quantity').value = (action === 'BUY' ? 100 : 50);
    
    prepareTrade(action.toLowerCase());
    
    showNotification(`ü§ñ Trade IA pr√©par√©: ${action} ${asset}`, 'info');
}

function updateTechnicalAnalysis() {
    const rsi = (Math.random() * 100).toFixed(1);
    document.getElementById('rsi-value').textContent = rsi;
    
    let rsiColor = 'text-yellow-400';
    let rsiSignal = 'Neutre';
    if (rsi > 70) {
        rsiColor = 'text-red-400';
        rsiSignal = 'Sur-achat';
    } else if (rsi < 30) {
        rsiColor = 'text-green-400';
        rsiSignal = 'Sur-vente';
    }
    document.getElementById('rsi-value').className = `text-2xl font-bold ${rsiColor}`;
    document.getElementById('rsi-signal').textContent = rsiSignal;
    document.getElementById('rsi-bar').style.width = `${rsi}%`;
    
    const macd = (Math.random() * 0.4 - 0.2).toFixed(3);
    const macdTrend = macd > 0 ? 'Haussi√®re' : 'Baissi√®re';
    const macdColor = macd > 0 ? 'text-blue-400' : 'text-red-400';
    document.getElementById('macd-value').textContent = macd > 0 ? `+${macd}` : macd;
    document.getElementById('macd-value').className = `text-2xl font-bold ${macdColor}`;
    document.getElementById('macd-trend').textContent = macdTrend;
    document.getElementById('macd-trend').className = `text-xs px-2 py-1 rounded ${macd > 0 ? 'bg-blue-900' : 'bg-red-900'}`;
}

function updateMarketSentiment() {
    const sentiment = Math.floor(Math.random() * 100);
    document.getElementById('sentiment-value').textContent = `${sentiment}%`;
    
    let sentimentText = '';
    let sentimentColor = '';
    
    if (sentiment > 70) {
        sentimentText = 'Tr√®s Haussier';
        sentimentColor = 'text-green-400';
    } else if (sentiment > 50) {
        sentimentText = 'Haussier';
        sentimentColor = 'text-green-300';
    } else if (sentiment > 30) {
        sentimentText = 'Neutre';
        sentimentColor = 'text-yellow-400';
    } else {
        sentimentText = 'Baissier';
        sentimentColor = 'text-red-400';
    }
    
    document.getElementById('sentiment-text').textContent = sentimentText;
    document.getElementById('sentiment-text').className = `text-xl font-bold ${sentimentColor}`;
    document.getElementById('sentiment-gauge').style.strokeDasharray = `${sentiment}, 100`;
}

function updateMLPredictions() {
    const pred1h = (Math.random() * 6 - 2).toFixed(1);
    const pred1hColor = pred1h > 0 ? 'text-green-400' : 'text-red-400';
    document.getElementById('pred-1h-direction').textContent = `${pred1h > 0 ? '+' : ''}${pred1h}%`;
    document.getElementById('pred-1h-direction').className = `text-2xl font-bold ${pred1hColor}`;
    
    const pred24h = (Math.random() * 15 - 5).toFixed(1);
    const pred24hColor = pred24h > 0 ? 'text-green-400' : 'text-red-400';
    document.getElementById('pred-24h-direction').textContent = `${pred24h > 0 ? '+' : ''}${pred24h}%`;
    document.getElementById('pred-24h-direction').className = `text-2xl font-bold ${pred24hColor}`;
    
    const pred7d = (Math.random() * 30 - 10).toFixed(1);
    const pred7dColor = pred7d > 0 ? 'text-green-400' : 'text-red-400';
    document.getElementById('pred-7d-direction').textContent = `${pred7d > 0 ? '+' : ''}${pred7d}%`;
    document.getElementById('pred-7d-direction').className = `text-2xl font-bold ${pred7dColor}`;
}

function generateLiveSignals() {
    const signalsFeed = document.getElementById('signals-feed');
    const signals = [
        { type: 'BUY', asset: 'ZND', strength: 'FORT', reason: 'RSI oversold + Volume spike' },
        { type: 'SELL', asset: 'BTC', strength: 'MOYEN', reason: 'Resistance test failed' },
        { type: 'BUY', asset: 'ETH', strength: 'FAIBLE', reason: 'Support bounce detected' },
        { type: 'HOLD', asset: 'BNB', strength: 'NEUTRE', reason: 'Consolidation pattern' }
    ];
    
    const signal = signals[Math.floor(Math.random() * signals.length)];
    const timestamp = new Date().toLocaleTimeString();
    
    const signalElement = document.createElement('div');
    signalElement.className = `p-3 rounded-lg ${
        signal.type === 'BUY' ? 'signal-buy' : 
        signal.type === 'SELL' ? 'signal-sell' : 
        'signal-hold'
    }`;
    
    signalElement.innerHTML = `
        <div class="flex justify-between items-start">
            <div>
                <span class="font-bold ${
                    signal.type === 'BUY' ? 'text-green-400' : 
                    signal.type === 'SELL' ? 'text-red-400' : 
                    'text-yellow-400'
                }">${signal.type} ${signal.asset}</span>
                <span class="ml-2 text-xs px-2 py-1 ${
                    signal.strength === 'FORT' ? 'bg-green-600' : 
                    signal.strength === 'MOYEN' ? 'bg-yellow-600' : 
                    'bg-gray-600'
                } rounded">${signal.strength}</span>
            </div>
            <span class="text-xs text-gray-400">${timestamp}</span>
        </div>
        <p class="text-sm text-gray-300 mt-1">${signal.reason}</p>
    `;
    
    signalsFeed.insertBefore(signalElement, signalsFeed.firstChild);
    
    if (signalsFeed.children.length > 10) {
        signalsFeed.removeChild(signalsFeed.lastChild);
    }
}

function setupAlert() {
    const priceAlert = document.getElementById('price-alert').value;
    const rsiAlert = document.getElementById('rsi-alert').value;
    
    if (priceAlert || rsiAlert) {
        const alertsList = document.getElementById('active-alerts-list');
        const alertElement = document.createElement('div');
        
        alertElement.className = 'flex justify-between items-center p-2 bg-yellow-900/30 rounded';
        alertElement.innerHTML = `
            <span class="text-sm">${priceAlert ? `ZND ${priceAlert > currentPrices.ZND ? '>' : '<'} $${priceAlert}` : rsiAlert === 'overbought' ? 'RSI > 70' : 'RSI < 30'}</span>
            <span class="text-xs bg-yellow-600 px-2 py-1 rounded">ACTIVE</span>
        `;
        
        alertsList.appendChild(alertElement);
        
        document.getElementById('price-alert').value = '';
        
        showNotification('üîî Alerte activ√©e avec succ√®s !', 'success');
    } else {
        showNotification('Veuillez configurer une alerte', 'error');
    }
}

function updatePrices() {
    Object.keys(currentPrices).forEach(asset => {
        const change = (Math.random() - 0.5) * 0.1;
        currentPrices[asset] *= (1 + change);
        
        if (asset === 'ZND') {
            document.getElementById('znd-price').textContent = 
                '$' + currentPrices[asset].toFixed(4);
        }
    });
    
    if (!document.getElementById('portfolio-details').classList.contains('hidden')) {
        updatePortfolioDisplay();
    }
}

function generateSignal() {
    const signals = ['BUY', 'SELL', 'HOLD'];
    const assets = ['ZND', 'BTC', 'ETH', 'BNB'];
    const signal = Math.random() > 0.6 ? 'BUY' : (Math.random() > 0.5 ? 'SELL' : 'HOLD');
    const asset = Math.random() < 0.4 ? 'ZND' : assets[Math.floor(Math.random() * assets.length)];
    const confidence = Math.floor(Math.random() * 20) + 75;
    
    const icon = signal === 'BUY' ? 'üìà' : signal === 'SELL' ? 'üìâ' : '‚û°Ô∏è';
    const color = signal === 'BUY' ? 'text-green-400' : signal === 'SELL' ? 'text-red-400' : 'text-yellow-400';
    
    document.getElementById('ai-main-icon').textContent = icon;
    document.getElementById('ai-main-signal').textContent = `${signal} ${asset}`;
    document.getElementById('ai-main-signal').className = `text-4xl font-bold mb-2 ${color}`;
    document.getElementById('ai-main-confidence').textContent = confidence + '%';
    
    const reasons = ['RSI oversold', 'Volume spike detected', 'MACD crossover', 'Support bounce', 'Resistance break'];
    document.getElementById('ai-reason').textContent = reasons[Math.floor(Math.random() * reasons.length)];
    
    const entryPrice = currentPrices[asset] || (Math.random() * 0.01).toFixed(4);
    document.getElementById('ai-entry').textContent = '$' + entryPrice;
    document.getElementById('ai-sl').textContent = '$' + (parseFloat(entryPrice) * 0.9).toFixed(4);
    document.getElementById('ai-tp').textContent = '$' + (parseFloat(entryPrice) * 1.2).toFixed(4);
}

function startRealTimeUpdates() {
    setInterval(updateTechnicalAnalysis, 3000);
    setInterval(updateMarketSentiment, 5000);
    setInterval(updateMLPredictions, 10000);
    setInterval(generateLiveSignals, 8000);
    setInterval(updatePrices, 3000);
    setInterval(generateSignal, 5000);
    setInterval(updateMarketPrices, 5000); // Mise √† jour des prix multi-assets
}

function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `fixed top-20 right-4 p-4 rounded-lg z-50 ${
        type === 'success' ? 'bg-green-900 text-green-300' : 
        type === 'error' ? 'bg-red-900 text-red-300' : 
        'bg-blue-900 text-blue-300'
    }`;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 3000);
}

function initializeValues() {
    updateTechnicalAnalysis();
    updateMarketSentiment();
    updateMLPredictions();
    generateSignal();
    
    for (let i = 0; i < 3; i++) {
        generateLiveSignals();
    }
}
</script>

</body>
</html>
